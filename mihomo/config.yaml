proxy-providers:
  zuhe:
    url: ""
    proxy: DIRECT
    type: http
    interval: 86400
    health-check: {enable: true,url: "https://www.gstatic.com/generate_204",interval: 300}

mixed-port: 7890
redir-port: 7891
bind-address: "*"
allow-lan: true
mode: rule
log-level: info
ipv6: true

keep-alive-idle: 15
keep-alive-interval: 15
disable-keep-alive: false

find-process-mode: off
global-client-fingerprint: chrome

external-ui: ui
external-ui-url: https://ghfast.top/https://github.com/Zephyruso/zashboard/releases/latest/download/dist-cdn-fonts.zip
external-controller: '[::]:9090'
secret: "821259"

profile:
  store-selected: true
  store-fake-ip: true

unified-delay: true
tcp-concurrent: true

geodata-mode: true
geodata-loader: standard
geo-auto-update: true
geo-update-interval: 24
geox-url:
  geoip: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://testingcf.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
  asn: "https://github.com/xishang0128/geoip/releases/download/latest/GeoLite2-ASN.mmdb"

dns:
  enable: true
  prefer-h3: false
  use-hosts: true
  use-system-hosts: true
  respect-rules: false
  listen: '[::]:1053'
  ipv6: true
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-range6: fdfe:dcba:9876::1/64
  fake-ip-filter-mode: blacklist
  fake-ip-filter:
    - 'rule-set:fakeip-filter,private_direct,tracker,private,cn'
  direct-nameserver:
    - 211.140.13.188
    - 211.140.188.188
    - "[2409:8028:2000::1111]:53"
    - "[2409:8028:2000::2222]:53"
  proxy-server-nameserver:
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query
  nameserver:
    - tls://223.5.5.5
    - tls://223.6.6.6

sniffer:
  enable: true
  sniff:
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    TLS:
      ports: [443, 8443]
    QUIC:
      ports: [443, 8443]
  skip-domain:
    - Mijia Cloud

tun:
  enable: true
  stack: mixed
  dns-hijack: ["any:53", "tcp://any:53"]
  auto-route: true
  auto-redirect: true
  auto-detect-interface: true
  device: nikki

proxies:
  - name: "\U0001F1ED\U0001F1F0HK_‰º™ |10.2MB/s|1%"
    type: trojan
    server: 1.2.3.4
    port: 443
    password: hkpassword
    skip-cert-verify: true
    sni: www.baidu.com
    udp: true

  - name: "\U0001F1FA\U0001F1F8US_‰º™ |8.9MB/s|2%"
    type: trojan
    server: 5.6.7.8
    port: 443
    password: uspassword
    skip-cert-verify: true
    sni: www.youtube.com
    udp: true

  - name: "\U0001F1F9\U0001F1FCJP_‰º™ |7.7MB/s|3%"
    type: trojan
    server: 9.10.11.12
    port: 443
    password: jppassword
    skip-cert-verify: true
    sni: www.google.co.jp
    udp: true

  - name: "\U0001F1F8\U0001F1ECSG_‰º™ |6.5MB/s|4%"
    type: trojan
    server: 13.14.15.16
    port: 443
    password: sgpassword
    skip-cert-verify: true
    sni: www.straitstimes.com
    udp: true

  - name: "\U0001F1F9\U0001F1FCTW_‰º™ |5.5MB/s|5%"
    type: trojan
    server: 17.18.19.20
    port: 443
    password: twpassword
    skip-cert-verify: true
    sni: www.ptt.cc
    udp: true

FallBack: &FallBack
  type: fallback
  url: 'https://gstatic.com/generate_204'
  interval: 600
  lazy: true
UrlTest: &UrlTest
  type: url-test
  url: 'https://gstatic.com/generate_204'
  interval: 300
  lazy: true
  include-all: true
   
proxy-groups:
  - {name: ‰ª£ÁêÜ, <<: *FallBack, proxies: [È¶ôÊ∏Ø, Âè∞Êπæ, Êó•Êú¨, ÁãÆÂüé, ÁæéÂõΩ, ÂÖ∂‰ªñ]}
  - {name: Êô∫ËÉΩ, <<: *FallBack, proxies: [ÁæéÂõΩ, Âè∞Êπæ, Êó•Êú¨, ÁãÆÂüé, ÂÖ∂‰ªñ, È¶ôÊ∏Ø]}
  - {name: ÁîµÊä•, <<: *FallBack, proxies: [ÁãÆÂüé, È¶ôÊ∏Ø, Âè∞Êπæ, Êó•Êú¨, ÁæéÂõΩ, ÂÖ∂‰ªñ]}
  - {name: Â™í‰Ωì, <<: *FallBack, proxies: [È¶ôÊ∏Ø, Âè∞Êπæ, Êó•Êú¨, ÁãÆÂüé, ÁæéÂõΩ, ÂÖ∂‰ªñ]}

  - {name: È¶ôÊ∏Ø, <<: *UrlTest, filter: "(?i)Ê∏Ø|hk|hongkong|hong kong|HK_"}
  - {name: Âè∞Êπæ, <<: *UrlTest, filter: "(?i)Âè∞|tw|taiwan|TW_"}
  - {name: Êó•Êú¨, <<: *UrlTest, filter: "(?i)Êó•|jp|japan|JP_"}
  - {name: ÁãÆÂüé, <<: *UrlTest, filter: "(?i)Êñ∞|sg|singapore|SG_"}
  - {name: ÁæéÂõΩ, <<: *UrlTest, filter: "(?i)Áæé|us|unitedstates|united states|US_"}
  - {name: ÂÖ∂‰ªñ, <<: *UrlTest, filter: "(?i)^(?!.*(?:üá≠üá∞|üáØüáµ|üá∫üá∏|üá∏üá¨|üá®üá≥|Ê∏Ø|hk|hongkong|Âè∞|tw|taiwan|Êó•|jp|japan|Êñ∞|sg|singapore|Áæé|us|unitedstates|HK_|TW_|JP_|SG_|US_)).*"}

rules:
  - SRC-IP-CIDR,10.0.0.10/32,DIRECT
  - RULE-SET,private_direct,DIRECT
  - RULE-SET,private_proxy,‰ª£ÁêÜ
  - RULE-SET,private,DIRECT
  - RULE-SET,tracker,DIRECT
  - RULE-SET,github,‰ª£ÁêÜ
  - RULE-SET,microsoft,DIRECT
  - RULE-SET,apple,DIRECT
  - RULE-SET,google-cn,DIRECT
  - RULE-SET,games-cn,DIRECT
  - RULE-SET,spotify,È¶ôÊ∏Ø
  - RULE-SET,ai,Êô∫ËÉΩ
  - RULE-SET,youtube,Â™í‰Ωì
  - RULE-SET,games,‰ª£ÁêÜ
  - RULE-SET,geolocation-!cn,‰ª£ÁêÜ
  - RULE-SET,cn,DIRECT
  - RULE-SET,telegramip,ÁîµÊä•,no-resolve
  - RULE-SET,privateip,DIRECT,no-resolve
  - RULE-SET,cnip,DIRECT
  - MATCH,‰ª£ÁêÜ


rule-anchor:
  ip: &ip {type: http, interval: 86400, behavior: ipcidr, format: mrs}
  domain: &domain {type: http, interval: 86400, behavior: domain, format: mrs}
rule-providers:
  private_direct:
    type: http
    behavior: classical
    format: text
    url: "https://ghfast.top/https://raw.githubusercontent.com/2263075977/daili/main/mihomo/direct.txt"
    interval: 86400

  private_proxy:
    type: http
    behavior: classical
    format: text
    url: "https://ghfast.top/https://raw.githubusercontent.com/2263075977/daili/main/mihomo/proxy.txt"
    interval: 86400

  fakeip-filter:
    <<: *domain
    url: "https://ghfast.top/https://github.com/DustinWin/ruleset_geodata/releases/download/mihomo-ruleset/fakeip-filter.mrs"

  private:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/private.mrs"

  tracker:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/tracker.mrs"

  github:
    <<: *domain
    url: "https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/github.mrs"

  microsoft:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/microsoft.mrs"

  apple:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/apple.mrs"

  google-cn:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/google-cn.mrs"

  games-cn:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-games-cn.mrs"

  spotify:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/spotify.mrs"

  ai:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-ai-!cn.mrs"

  youtube:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/youtube.mrs"

  games:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/category-games-!cn.mrs"

  geolocation-!cn:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/geolocation-!cn.mrs"

  cn:
    <<: *domain
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geosite/cn.mrs"

  telegramip:
    <<: *ip
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/telegram.mrs"

  google_ip:
    <<: *ip
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/google.mrs"

  privateip:
    <<: *ip
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/private.mrs"

  cnip:
    <<: *ip
    url: "https://ghfast.top/https://raw.githubusercontent.com/MetaCubeX/meta-rules-dat/meta/geo/geoip/cn.mrs"

